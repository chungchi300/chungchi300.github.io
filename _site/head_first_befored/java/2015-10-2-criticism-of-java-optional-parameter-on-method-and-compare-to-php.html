<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/ie.html"><![endif]-->

<title>Criticism of JAVA optional parameter on method and compare to php | Jeff Chung blogger</title>
<meta name="author" content="Jeff Chung">



<script type="text/javascript">var switchTo5x=true;</script>
<script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
<script type="text/javascript">stLight.options({publisher: "ur-ea714e9-b625-ae13-76b4-693cc06f6d13", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>
<link rel="shortcut icon" href="http://jeff-chung.com/favicon.png" />

<link rel="stylesheet" type="text/css" href="/assets/css/style.css">

<link href="/pages/rss.xml" rel="alternate" title="Jeff Chung blogger" type="application/atom+xml">
<!--<meta property="og:image" content="http://www.jeff-chung.com/jeff.png" />-->
<!--<meta property="og:site_name" content="jeff-chung.com"/>--sc>
<!--<meta property="og:title" content="Jeff Chung blogger-Share ideas and spread knowledge" />-->
<!--<meta property="og:description" content="Jeff Chung blogger-Share ideas and spread knowledge" />-->

<meta property="og:title" content="Criticism of JAVA optional parameter on method and compare to php" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.jeff-chung.com/head_first_befored/java/2015-10-2-criticism-of-java-optional-parameter-on-method-and-compare-to-php" />

<meta property="og:image" content="http://www.jeff-chung.com/jeff.png" />


<meta property="og:site_name" content="Jeff Chung Blogger" />
  </head>
  <body>
    <aside id="sidebar">
  <nav id="tags">
    <a href="/index.html" id="avatar" style="background-image:url(/jeff.png)"></a>

    <ul id="tags__ul">
      <li id="pl__all" class="tags__li tags-btn active">全部</li>
       
        <li id="Web-Frontend" class="tags__li tags-btn">Web-Frontend</li>
       
        <li id="Writing" class="tags__li tags-btn">Writing</li>
       
        <li id="It-Management" class="tags__li tags-btn">It-Management</li>
       
        <li id="Hackerrank" class="tags__li tags-btn">Hackerrank</li>
       
        <li id="calisthenics" class="tags__li tags-btn">calisthenics</li>
       
        <li id="Program-Design" class="tags__li tags-btn">Program-Design</li>
       
        <li id="linux" class="tags__li tags-btn">linux</li>
       
        <li id="cash flow" class="tags__li tags-btn">cash flow</li>
       
        <li id="Deliverable-management" class="tags__li tags-btn">Deliverable-management</li>
       
        <li id="Code-Review" class="tags__li tags-btn">Code-Review</li>
      
    </ul>

    <div id="tags__bottom">
      <a href="mailto:chungchi300@hotmail.com" id="icon-email" class="tags-btn fontello"></a>
      <a href="/pages/rss.xml" id="icon-feed" class="tags-btn fontello"></a>
    </div>
  </nav> <!-- end #tags -->

  <div id="posts-list">
    <form action="" id="search-form">
      <a href="/index.html" id="mobile-avatar" style="background-image:url(/jeff.png)"></a>
      <!-- NOTE: input field is disabled by default -->
      <input id="search-input" type="text" placeholder="Search..." disabled >
    </form>

    <nav id="pl__container">
    
      <a class="It-Management pl__all" href="/2017/06/02/essentialist-career-goal.html"><span class="pl__circle"></span><span class="pl__title">Essentialism - Software Engineer Career Goal</span><span class="pl__date">Jun 2017</span></a>
    
      <a class="Program-Design pl__all" href="/2017/06/01/essentialism-error-api-design.html"><span class="pl__circle"></span><span class="pl__title">Essentialism(Best practise and rethink) - Design rest api error</span><span class="pl__date">Jun 2017</span></a>
    
      <a class="Web-Frontend pl__all" href="/2017/05/27/use-draft-wysiswyg-to-create-powerpoint-style-online-software.html"><span class="pl__circle"></span><span class="pl__title">Use draft-wysiswyg to create power point style multi-text box editor</span><span class="pl__date">May 2017</span></a>
    
      <a class="Program-Design pl__all" href="/2017/05/18/rest-empty-field.html"><span class="pl__circle"></span><span class="pl__title">Rest - Empty fields mapping </span><span class="pl__date">May 2017</span></a>
    
      <a class="Web-Frontend pl__all" href="/2017/05/12/redux-state-management(state-and-reducer-design).html"><span class="pl__circle"></span><span class="pl__title">Redux state management(state and reducer design )</span><span class="pl__date">May 2017</span></a>
    
      <a class="Code-Review pl__all" href="/2017/05/11/general-review.html"><span class="pl__circle"></span><span class="pl__title">General Code Review 2</span><span class="pl__date">May 2017</span></a>
    
      <a class="Web-Frontend pl__all" href="/2017/05/08/redux-state-management(deliverable).html"><span class="pl__circle"></span><span class="pl__title">Redux state management(Deliverable)</span><span class="pl__date">May 2017</span></a>
    
      <a class="Web-Frontend pl__all" href="/2017/05/08/redux-state-management(action-design).html"><span class="pl__circle"></span><span class="pl__title">Redux state management(Action design )</span><span class="pl__date">May 2017</span></a>
    
      <a class="Code-Review pl__all" href="/2017/04/28/general-review.html"><span class="pl__circle"></span><span class="pl__title">General Code Review</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="Deliverable-management pl__all" href="/2017/04/27/paypal-integration-deliverable-management.html"><span class="pl__circle"></span><span class="pl__title">Paypal integration deliverable management</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="Program-Design pl__all" href="/2017/04/26/rest-api-101.html"><span class="pl__circle"></span><span class="pl__title">rest-api-101</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="Program-Design pl__all" href="/2017/04/25/Restful-api-naming-convention,method-and-params.html"><span class="pl__circle"></span><span class="pl__title">restful api naming convention</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="Writing pl__all" href="/2017/04/20/linux-yum-learning.html"><span class="pl__circle"></span><span class="pl__title">Few command and knowledge you need to know to do 99% job what you want yum to do on centos7.</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="Writing pl__all" href="/2017/04/12/graphical-designer-quickly-involve-design-implement.html"><span class="pl__circle"></span><span class="pl__title">Graphical designer must have programming technical skill in order to do part of design implementation in react</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="Writing pl__all" href="/2017/04/12/design-implement.html"><span class="pl__circle"></span><span class="pl__title">How UI designer and front end programmer cooperate together in order to implement the design perfectly(at least 95%) in the program with 50% workload remotely.</span><span class="pl__date">Apr 2017</span></a>
    
      <a class="cash flow pl__all" href="/2016/09/15/tech-cash-flow.html"><span class="pl__circle"></span><span class="pl__title">Good senior software engineer goal</span><span class="pl__date">Sep 2016</span></a>
    
      <a class="Web-Frontend pl__all" href="/2016/09/07/react-state-strategy.html"><span class="pl__circle"></span><span class="pl__title">React state strategy in 25 minutes</span><span class="pl__date">Sep 2016</span></a>
    
      <a class="linux pl__all" href="/2016/08/18/linux-command-successive.html"><span class="pl__circle"></span><span class="pl__title">Linux succesive command</span><span class="pl__date">Aug 2016</span></a>
    
      <a class="Program-Design pl__all" href="/2016/08/12/same-origin-and-cors.html"><span class="pl__circle"></span><span class="pl__title">Same Origin policy and CORS</span><span class="pl__date">Aug 2016</span></a>
    
      <a class="calisthenics pl__all" href="/2016/08/09/pomotodo-for-programmer.html"><span class="pl__circle"></span><span class="pl__title">My Motivation System</span><span class="pl__date">Aug 2016</span></a>
    
      <a class="calisthenics pl__all" href="/2016/06/18/lunch-calisthenics.html"><span class="pl__circle"></span><span class="pl__title">My lunch calisthenics</span><span class="pl__date">Jun 2016</span></a>
    
      <a class="It-Management pl__all" href="/2016/03/20/risk-management-of-software-development-for-beginner.html"><span class="pl__circle"></span><span class="pl__title">15 minutes Risk management of software development for beginner</span><span class="pl__date">Mar 2016</span></a>
    
      <a class="It-Management pl__all" href="/2016/01/11/presentation-of-prototype.html"><span class="pl__circle"></span><span class="pl__title">Presentation of working product of a sprint</span><span class="pl__date">Jan 2016</span></a>
    
      <a class="Writing pl__all" href="/2015/12/30/how-to-select-proper-cloud-platform-for-java-or-php-application.html"><span class="pl__circle"></span><span class="pl__title">How to select proper cloud platform for java or php application</span><span class="pl__date">Dec 2015</span></a>
    
      <a class="Hackerrank pl__all" href="/2015/12/07/get-volume-of-different-three-dimensional.html"><span class="pl__circle"></span><span class="pl__title">Get Volume of different three dimensional</span><span class="pl__date">Dec 2015</span></a>
    
      <a class="Hackerrank pl__all" href="/2015/12/07/find-max-and-min-lexical-substrings-of-a-string.html"><span class="pl__circle"></span><span class="pl__title">Find max and min lexical substrings of a string</span><span class="pl__date">Dec 2015</span></a>
    
      <a class="It-Management pl__all" href="/2015/11/20/how-to-negotiate-with-your-boss-to-get-a-nice-computer.html"><span class="pl__circle"></span><span class="pl__title">How to negotiate with your boss to get a nice computer for your work</span><span class="pl__date">Nov 2015</span></a>
    
      <a class=" pl__all" href="/2015/11/02/software-engineer-clothe.html"><span class="pl__circle"></span><span class="pl__title">How to buy comfortable, affordable and suitable clothe quickly for software engineer(Programmer)  in Hong Kong Start up circle</span><span class="pl__date">Nov 2015</span></a>
    
      <a class="It-Management pl__all" href="/2015/10/17/how-to-run-a-successful-offshore-development.html"><span class="pl__circle"></span><span class="pl__title">How to manage offshore development successfully.</span><span class="pl__date">Oct 2015</span></a>
    
      <a class="It-Management pl__all" href="/2015/10/17/how-it-manager-fulfill-the-need-of-kiosk-service-of-your-company.html"><span class="pl__circle"></span><span class="pl__title">How it manager fulfill the need of kiosk service of their company</span><span class="pl__date">Oct 2015</span></a>
    
      <a class="Writing pl__all" href="/2015/10/13/how-to-write-headfirst-sample.html"><span class="pl__circle"></span><span class="pl__title">How to write head-first sample</span><span class="pl__date">Oct 2015</span></a>
    
      <a class="Writing pl__all" href="/2015/10/12/how-to-write-head-first-style-blog-in-35-minute.html"><span class="pl__circle"></span><span class="pl__title">How to write head-first style blog in 35 minute</span><span class="pl__date">Oct 2015</span></a>
    
      <a class="Web-Frontend pl__all" href="/2015/10/07/jsonp-tutorial.html"><span class="pl__circle"></span><span class="pl__title">Jsonp in 5 minute</span><span class="pl__date">Oct 2015</span></a>
    
    </nav>
  </div> <!-- end #posts-list -->
</aside> <!-- end #sidebar -->
    <div id="post">
      <div id="pjax">
        <article id="post__content">
  <h1 id="post__title" data-identifier="">Criticism of JAVA optional parameter on method and compare to php</h1>
  <p>#Java solution:from stackoverflow @Vitalii Fedorenko
There are several ways to simulate default parameters in Java:</p>

<ol>
  <li>
    <p><strong>Method overloading.</strong></p>

    <p>void foo(String a, Integer b) {
       //…
   }</p>

    <p>void foo(String a) {
       foo(a, 0); // here, 0 is a default value for b
   }</p>

    <p>foo(“a”, 2);
   foo(“a”);</p>
  </li>
</ol>

<p>One of the limitations of this approach is that it doesn’t work if you have two optional parameters of the same type and any of them can be omitted.</p>

<ol>
  <li><strong>Varargs.</strong></li>
</ol>

<p>a) All optional parameters are of the same type:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    void foo(String a, Integer... b) {
        Integer b1 = b.length &gt; 0 ? b[0] : 0;
        Integer b2 = b.length &gt; 1 ? b[1] : 0;
        //...
    }

    foo("a");
    foo("a", 1, 2);
</code></pre>
</div>

<p>b) Types of optional parameters may be different:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    void foo(String a, Object... b) {
        Integer b1 = 0;
        String b2 = "";
        if (b.length &gt; 0) {
          if (!(b[0] instanceof Integer)) { 
              throw new IllegalArgumentException("...");
          }
          b1 = (Integer)b[0];
        }
        if (b.length &gt; 1) {
            if (!(b[1] instanceof String)) { 
                throw new IllegalArgumentException("...");
            }
            b2 = (String)b[1];
            //...
        }
        //...
    }

    foo("a");
    foo("a", 1);
    foo("a", 1, "b2");
</code></pre>
</div>

<p>The main drawback of this approach is that if optional parameters are of different types you lose static type checking. Furthermore, if each parameter has different meaning you need some way to distinguish them.</p>

<ol>
  <li>
    <p><strong>Nulls.</strong> To address the limitations of the previous approaches you can allow null values and then analyse each parameter in a method body:</p>

    <p>void foo(String a, Integer b, Integer c) {
       b = b != null ? b : 0;
       c = c != null ? c : 0;
       //…
   }</p>

    <p>foo(“a”, null, 2);</p>
  </li>
</ol>

<p>Now all arguments values must be provided, but the default ones may be null.</p>

<ol>
  <li>
    <p><strong>Optional class.</strong> This approach is similar to nulls, but uses guava Optional class for parameters that have a default value:</p>

    <p>void foo(String a, Optional<Integer> bOpt) {
       Integer b = bOpt.isPresent() ? bOpt.get() : 0;
       //...
   }</Integer></p>

    <p>foo(“a”, Optional.of(2));
   foo(“a”, Optional.<Integer>absent());</Integer></p>

    <p>Optional makes a method contract explicit for a caller, however, one may find such signature too verbose.</p>
  </li>
  <li>
    <p><strong>Builder pattern.</strong> The builder pattern is used for constructors and is implemented by introducing a separate Builder class:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>class Foo {
    private final String a; 
    private final Integer b;

    Foo(String a, Integer b) {
      this.a = a;
      this.b = b;
    }

    //...
}
    
class FooBuilder {
  private String a = ""; 
  private Integer b = 0;
       
  FooBuilder setA(String a) {
    this.a = a;
    return this;
  }

  FooBuilder setB(Integer b) {
    this.b = b;
    return this;
  }

  Foo build() {
    return new Foo(a, b);
  }
}

Foo foo = new FooBuilder().setA("a").build();
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>Maps.</strong> When the number of parameters is too large and for most of them default values are usually used, you can pass method arguments as a map of their names/values:</p>

    <p>void foo(Map&lt;String, Object&gt; parameters) {
       String a = “”; 
       Integer b = 0;
       if (parameters.containsKey(“a”)) { 
           if (!(parameters.get(“a”) instanceof Integer)) { 
               throw new IllegalArgumentException(“…”);
           }
           a = (String)parameters.get(“a”);
       }
       if (parameters.containsKey(“b”)) { 
           //… 
       }
       //…
   }</p>

    <p>foo(ImmutableMap.&lt;String, Object&gt;of(
       “a”, “a”,
       “b”, 2, 
       “d”, “value”));</p>
  </li>
</ol>

<p>Please note that you can combine any of these approaches to achieve a desirable result.</p>

<h2 id="method-overloading--varags-is-prefer-to-me">Method overloading &amp; Varags is prefer to me</h2>

<h1 id="php-solution">PHP Solution</h1>
<div class="language-php highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">foo</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span> <span class="o">=</span> <span class="s2">"default b"</span><span class="p">){</span>
    <span class="k">echo</span> <span class="s1">'$a = '</span> <span class="o">.</span> <span class="nv">$a</span> <span class="o">.</span> <span class="s2">"</span><span class="se">\n\r</span><span class="s2">"</span> <span class="o">.</span><span class="s1">'$b = '</span> <span class="o">.</span> <span class="nv">$b</span><span class="o">.</span><span class="s2">"</span><span class="se">\n\r</span><span class="s2">"</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"1"</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span><span class="s2">"a"</span><span class="p">);</span>

<span class="c1">//output 
//$a = a
//$b = 1
//$a = a
//$b = default b
</span></code></pre>
</div>
<h2 id="pretty-php">Pretty PHP</h2>

</article> <!-- end #post__content -->

<!--<div id="post__share">-->
  <!--<a id="icon-twitter" class="fontello" href="https://twitter.com/intent/tweet?url=http://localhost:4000/head_first_befored/java/2015-10-2-criticism-of-java-optional-parameter-on-method-and-compare-to-php&text=Criticism of JAVA optional parameter on method and compare to php" target="_blank"></a>-->
  <!--<a id="icon-cc" class="fontello" href="http://creativecommons.org/licenses/by-nc-sa/3.0" target="_blank"></a>-->
  <!--<a id="icon-weibo" class="fontello" href="http://v.t.sina.com.cn/share/share.php?url=http://localhost:4000/head_first_befored/java/2015-10-2-criticism-of-java-optional-parameter-on-method-and-compare-to-php&title=Criticism of JAVA optional parameter on method and compare to php" target="_blank"></a>-->
<!--</div> &lt;!&ndash; end #post__share &ndash;&gt;-->
<div style="text-align: center">
  <span class='st_sharethis_large' displayText='ShareThis'></span>
  <span class='st_facebook_large' displayText='Facebook'></span>
  <span class='st_twitter_large' displayText='Tweet'></span>
  <span class='st_linkedin_large' displayText='LinkedIn'></span>
</div>

<div id="disqus_thread" name="jeffchung">
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink" target="_blank">Loading Disqus comments...</a>
</div>


        <p id="copyright">Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a>&nbsp;&nbsp;|&nbsp;&nbsp;Theme <a href="https://github.com/P233/3-Jekyll" target="_blank">3-Jekyll</a>&nbsp;&nbsp;|&nbsp;&nbsp;Hosted on <a href="https://pages.github.com" target="_blank">Github</a></p>
      </div> <!-- end #pjax -->

      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">Table of Contents</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div> <!-- end #post -->

    <button id="js-fullscreen"><span id="icon-arrow" class="fontello"></span></button>

<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.pjax.js"></script>
<script src="/assets/js/nprogress.js"></script>
<script src="/assets/js/script.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-69191655-1', 'jeff-chung.com');
  ga('send', 'pageview');
</script>
  </body>
</html>